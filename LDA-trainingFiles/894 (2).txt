Processor (computer).
Een processor, ook wel bekend als CPU (Engels: "central processing unit") of in het Nederlands centrale verwerkingseenheid (cve) genoemd, is een stuk hardware in een computer dat instaat voor basisbewerkingen en -controle bij het uitvoeren van programmacode. De eerste processors waren uitgevoerd als printplaten vol met losse componenten en IC's, maar sinds de jaren 70 ontstonden de eerste zogenaamde microprocessors, waarbij het hele systeem op één enkele chip werd vervaardigd. De eerste microprocessor was de i4004 van Intel.
Soorten.
De ontwikkeling in de IC-technologie zorgde ervoor dat de microprocessors van 4 bit (i4004) naar 8 bit, 16 bit, 32 bit en 64 bit konden groeien. Deze getallen duiden de woordbreedte aan.
Kenmerken.
De aansluitingen van een processor bestaan in hoofdzaak uit een stel besturings-, adres- en datalijnen die aangesloten zitten op de besturingsbus, de adresbus en de databus van de computer. Via de adresbus geeft de processor aan op welk adres van het extern geheugen er iets met de data moet gebeuren, via de databus worden de data getransporteerd, en via de besturingsbus wordt aangegeven of de data gelezen of geschreven moeten worden. De processor communiceert met de buitenwereld doordat bepaalde geheugenadressen met interfaces van randapparatuur zijn verbonden, zoals toetsenborden, beeldschermen, etc.
Microcontrollers.
Microcontrollers danken hun naam aan hun belangrijkste toepassingsgebied: 'control' (besturing). Ze worden gebruikt in de televisie, de afstandsbediening, de videorecorder, de wasmachine, radio en zelfs in een scheerapparaat komt men ze tegen. Kenmerk van een microcontroller is dat het al een complete computer is. Moderne microcontrollers hebben een processor, klokgenerator, RAM, ROM en hardware voor het aansturen van randapparaten allemaal op hetzelfde IC.
Microprocessors.
Voor de pc-architectuur is de processorkern uitgebreid met (virtueel) geheugenmanagement en een co-processor voor floating-point-bewerkingen (zwevendekommabewerkingen). Hierdoor wordt het geschikt voor besturingssystemen als Linux en Windows.
Alle huidige computers werken volgens dit Von Neumann-model. John von Neumann maakte dit model voordat de eerste computer bestond. Het model omschrijft kortweg de situatie dat een CPU communiceert met enerzijds het random-access memory (RAM) en anderzijds de randapparatuur zoals printers, beeldschermen, toetsenborden, enzovoort.
Een processor genereert afhankelijk van zijn activiteit meer of minder warmte en wordt daarom meestal gekoeld door middel van een of meer koelribben en ventilatoren. Sommige processors hebben waterkoeling, en er zijn zelfs processors die stikstof<nowiki/>koeling nodig hebben.
Interne opbouw.
Bij moderne processors zijn de registers onderling uitwisselbaar, zodat berekeningen niet in één speciaal register hoeven plaats te vinden. Ook is de decodeerlogica dusdanig uitgekiend dat meerdere instructies tegelijkertijd in behandeling kunnen zijn ("pipeline").
Ophaalfase.
Een processor dient instructies van het te verwerken programma in volgorde uit te voeren. Het programma zelf staat in het RAM-geheugen. De processor heeft daarom een teller, de programmateller, die het geheugenadres van de volgende instructie bijhoudt. In de zogeheten "fetch-fase" (ophaalfase) haalt de processor de instructie op van het geheugenadres dat in de programmateller staat. De code in dit adres is de volgende uit te voeren instructie en deze wordt in het instructieregister geplaatst.
Decodeerfase.
Stel dat de code in het instructieregister 0001010100010010 is. Wat betekent dat voor de processor? Een instructie is niets anders dan een reeks bits en in de decodeerfase wordt bepaald wat er moet gebeuren. Aan de hand van deze reeks bits worden de componenten in de processor die de instructie uitvoeren in de juiste stand gezet zodat zij de gewenste bewerking uitvoeren.
In het voorbeeld gebruikt de processor 8 bits voor het nummer van de instructie. De processor kent dus maximaal 28 = 256 verschillende instructies. De in het voorbeeld uit te voeren instructie heeft nu het nummer aangegeven door de eerste 8 bits, dus nummer 00010101, wat decimaal 21 is en in dit geval optellen betekent. Over het algemeen zal het instructienummer naar ieder component gestuurd worden, in dit geval zal alleen de optelcomponent zich klaarmaken om te gaan optellen.
De resterende bits van het instructieregister, nl. 00010010 bepalen de plaats waar de processor zijn gegevens zal halen, dit kunnen bepaalde registers zijn, maar in complexere instructies ook een geheugenadres. In dit geval gaat het om de registers en onze processor heeft 16 registers. Om aan te geven welke registers we willen gebruiken, kunnen we gewoon de nummers van beide registers vermelden, waarvoor voor elk vier bits nodig zijn. In het voorbeeld dus de registers 0001 (=1) en 0010 (=2). De instructie houdt dus in dat de inhoud van de registers 1 en 2 bij elkaar worden opgeteld. Impliciet is tevens vastgelegd dat het resultaat in het eerstgenoemde register staat.
... wordt dus opgesplitst in de onderdelen...
Concreet betekent dit dat in de registers r1 en r2 getallen zitten die bij elkaar opgeteld moeten worden. Onze denkbeeldige processor slaat het resultaat op in het register dat we het eerst vermelden, dus na deze instructie bevat register r1 de som van beide getallen. De registers zijn kleine stukjes geheugen in de processor met logica eromheen. Als een register zijn nummer voorbij ziet komen, wordt dit actief en zet het zich klaar om zijn inhoud te zetten op de elektrische leidinkjes naar andere delen van de processor, in dit geval de rekeneenheid.
Uitvoerfase.
Vervolgens begint de zogeheten "execute-fase" (uitvoerfase). De processor staat in de juiste stand en de berekening wordt gestart. De twee getallen in de registers r1 en r2 stromen naar de rekeneenheid van de processor die een optelling uitvoert. Vervolgens wordt het resultaat in een klein stukje tijdelijk geheugen opgeslagen.
Opslagfase.
Vervolgens begint de "store-fase" (opslagfase). Het register waar het resultaat voor bestemd is (r1), gaat in de luisterstand. Als op de elektrische leidingen een getal voorbij komt voor een register, dan vervangt het het getal dat het bewaart met het getal dat het voorbij ziet komen. Het getal dat berekend is, wordt vervolgens op de leidinkjes gezet.
De volgende.
Het uitvoeren van de instructie is nu afgerond, de programmateller wordt verhoogd en de processor wordt voorbereid op het uitvoeren van de volgende instructie.
Synchrone processors.
De meeste processors werken tegenwoordig met een klok. Dat wil zeggen dat alle logische poorten tegelijk, per klokpuls, hun instructie uitvoeren. Instructies worden bij complexere processors in meerdere klokcycli opgedeeld. De meeste RISC-processors zijn daarentegen in staat om in een enkele klokpuls een volledige instructie uit te voeren.
Voordelen hiervan zijn een relatief eenvoudig chipontwerp, omdat duidelijk is wanneer informatie van een voorgaande stap (de vorige klokpuls) beschikbaar is.
Bij de huidige technologie van gigahertz-processors heeft de traagheid van elektrische signalen een steeds grotere invloed. Elektrische signalen reizen met een groot deel van de lichtsnelheid, maar zelfs dan kost het enige tijd om van A naar B te geraken. Bij een processor die op 3 GHz loopt, kan het signaal in één enkele klokpuls theoretisch maximaal 10 cm afleggen.
Een van de ontwerpproblemen van de huidige snelle CPU's is om het kloksignaal overal op de chip tegelijk te krijgen. Het hiertoe benodigde netwerk kan tot wel 30% van het chipoppervlak en tot 60% van het energieverbruik gebruiken. Bij een gemiddelde processor zal dit energieverbruik eerder rond de 10% liggen.
Asynchrone processors.
Asynchrone processors werken zonder centrale klokpuls. Zij hebben dus geen last van bovengenoemde problemen.
Een asynchrone processor werkt volgens het principe dat een deelschakeling, naast de 'datalijn' minimaal één extra lijn heeft om aan te geven dat zijn staat stabiel is. Op dat moment kan de volgende schakeling in werking treden.
Het voordeel hiervan is dat de processor functioneert op de maximumsnelheid van zijn componenten. Ook gebruiken niet-gebruikte delen van het systeem nagenoeg geen energie wat het energiegebruik drastisch reduceert.
Een nadeel is het complexere chipontwerp. Voor een asynchrone processor met dezelfde functionaliteit als zijn synchrone variant zijn wel drie keer zoveel transistoren nodig. De ontwikkeltijd is ook veel langer.
In de huidige markt zijn asynchrone processors schaars, mede door hun complexiteit. Sommige gehoorapparaten gebruiken al asynchrone processors. Analisten sluiten niet uit dat asynchrone processors in de toekomst een grotere rol gaan spelen. Waarschijnlijk zullen zij in de toekomst veel gebruikt worden in toepassingen waar energiezuinig gebruik een rol speelt, denk aan apparaten die op batterijen werken, zoals pda-computers of notebooks.
De eerste licenceerbare en commercieel beschikbare asynchrone microprocessor processor was de ARM996HS, ontwikkeld door ARM Holdings en Handshake Solutions (een dochter van Philips). De processor is gebaseerd op de ARM9-kern en zal voornamelijk gebruikt worden in auto's.
Instructieset.
Kenmerkend aan een processor is de instructieset. Ieder type processor kan een beperkte verzameling instructies uitvoeren en deze verschilt vaak tussen verschillende typen processors. Dat betekent dat een programma voor een type processor niet uitgevoerd kan worden door een ander type processor. Aan de andere kant worden processors ook vaak ontwikkeld voor een al bekende instructieset, zodat deze juist wel alle bestaande programma's voor deze processor kan uitvoeren. Een instructieset wordt normaal genoemd naar de processor die deze kan uitvoeren.
